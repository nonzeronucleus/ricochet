[gd_scene load_steps=7 format=3 uid="uid://tqpt66wvsbue"]

[ext_resource type="Script" path="res://main/board/game.gd" id="1_5it5f"]
[ext_resource type="Script" path="res://main/board/board.gd" id="2_jvigl"]
[ext_resource type="Script" path="res://addons/godot_state_charts/state_chart.gd" id="3_l05u7"]
[ext_resource type="Script" path="res://addons/godot_state_charts/compound_state.gd" id="4_i0bq6"]
[ext_resource type="Script" path="res://addons/godot_state_charts/atomic_state.gd" id="5_88l8l"]
[ext_resource type="Script" path="res://addons/godot_state_charts/transition.gd" id="6_6kdgt"]

[node name="game" type="Node2D"]
script = ExtResource("1_5it5f")

[node name="board" type="ColorRect" parent="."]
offset_left = 45.0
offset_top = 73.0
offset_right = 613.0
offset_bottom = 641.0
color = Color(0.52549, 1, 1, 1)
script = ExtResource("2_jvigl")
metadata/_edit_use_anchors_ = true

[node name="editor_button" type="Button" parent="."]
offset_left = 512.0
offset_top = 16.0
offset_right = 605.0
offset_bottom = 47.0
text = "Editor"

[node name="restart_button" type="Button" parent="."]
offset_left = 372.0
offset_top = 21.0
offset_right = 465.0
offset_bottom = 52.0
focus_mode = 0
text = "Restart"

[node name="GameState" type="Node" parent="."]
script = ExtResource("3_l05u7")

[node name="CompoundState" type="Node" parent="GameState"]
script = ExtResource("4_i0bq6")
initial_state = NodePath("Playing")

[node name="NotStarted" type="Node" parent="GameState/CompoundState"]
script = ExtResource("5_88l8l")

[node name="StartGane" type="Node" parent="GameState/CompoundState/NotStarted"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Playing/Ready")
event = &"StartGame"

[node name="Playing" type="Node" parent="GameState/CompoundState"]
script = ExtResource("4_i0bq6")
initial_state = NodePath("Ready")

[node name="Ready" type="Node" parent="GameState/CompoundState/Playing"]
script = ExtResource("5_88l8l")

[node name="StartMoving" type="Node" parent="GameState/CompoundState/Playing/Ready"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Moving")
event = &"StartMoving"

[node name="Moving" type="Node" parent="GameState/CompoundState/Playing"]
script = ExtResource("5_88l8l")

[node name="StopMoving" type="Node" parent="GameState/CompoundState/Playing/Moving"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Ready")
event = &"StopMoving"

[node name="EndGame" type="Node" parent="GameState/CompoundState/Playing"]
script = ExtResource("6_6kdgt")
to = NodePath("../../GameOver")
event = &"EndGame"

[node name="GameOver" type="Node" parent="GameState/CompoundState"]
script = ExtResource("5_88l8l")

[node name="StartGame" type="Node" parent="GameState/CompoundState/GameOver"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Playing/Ready")
event = &"StartGame"

[node name="back_button" type="Button" parent="."]
offset_left = 56.0
offset_top = 673.0
offset_right = 120.0
offset_bottom = 681.0
text = "Back"
metadata/_edit_use_anchors_ = true

[connection signal="gui_input" from="board/Square" to="board/Square" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17723" to="board/@ColorRect@17723" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17724" to="board/@ColorRect@17724" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17725" to="board/@ColorRect@17725" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17726" to="board/@ColorRect@17726" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17727" to="board/@ColorRect@17727" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17728" to="board/@ColorRect@17728" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17729" to="board/@ColorRect@17729" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17730" to="board/@ColorRect@17730" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17731" to="board/@ColorRect@17731" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17732" to="board/@ColorRect@17732" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17733" to="board/@ColorRect@17733" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17734" to="board/@ColorRect@17734" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17735" to="board/@ColorRect@17735" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17736" to="board/@ColorRect@17736" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17737" to="board/@ColorRect@17737" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17738" to="board/@ColorRect@17738" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17739" to="board/@ColorRect@17739" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17740" to="board/@ColorRect@17740" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17741" to="board/@ColorRect@17741" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17742" to="board/@ColorRect@17742" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17743" to="board/@ColorRect@17743" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17744" to="board/@ColorRect@17744" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17745" to="board/@ColorRect@17745" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17746" to="board/@ColorRect@17746" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17747" to="board/@ColorRect@17747" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17748" to="board/@ColorRect@17748" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17749" to="board/@ColorRect@17749" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17750" to="board/@ColorRect@17750" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17751" to="board/@ColorRect@17751" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17752" to="board/@ColorRect@17752" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17753" to="board/@ColorRect@17753" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17754" to="board/@ColorRect@17754" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17755" to="board/@ColorRect@17755" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17756" to="board/@ColorRect@17756" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17757" to="board/@ColorRect@17757" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17758" to="board/@ColorRect@17758" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17759" to="board/@ColorRect@17759" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17760" to="board/@ColorRect@17760" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17761" to="board/@ColorRect@17761" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17762" to="board/@ColorRect@17762" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17763" to="board/@ColorRect@17763" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17764" to="board/@ColorRect@17764" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17765" to="board/@ColorRect@17765" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17766" to="board/@ColorRect@17766" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17767" to="board/@ColorRect@17767" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17768" to="board/@ColorRect@17768" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17769" to="board/@ColorRect@17769" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17770" to="board/@ColorRect@17770" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17771" to="board/@ColorRect@17771" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17772" to="board/@ColorRect@17772" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17773" to="board/@ColorRect@17773" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17774" to="board/@ColorRect@17774" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17775" to="board/@ColorRect@17775" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17776" to="board/@ColorRect@17776" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17777" to="board/@ColorRect@17777" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17778" to="board/@ColorRect@17778" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17779" to="board/@ColorRect@17779" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17780" to="board/@ColorRect@17780" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17781" to="board/@ColorRect@17781" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17782" to="board/@ColorRect@17782" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17783" to="board/@ColorRect@17783" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17784" to="board/@ColorRect@17784" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@17785" to="board/@ColorRect@17785" method="_on_gui_input"]
[connection signal="pressed" from="editor_button" to="." method="_on_editor_button_pressed"]
[connection signal="pressed" from="restart_button" to="." method="_on_restart_button_pressed"]
[connection signal="state_unhandled_input" from="GameState/CompoundState/Playing/Ready" to="." method="_on_ready_state_unhandled_input"]
[connection signal="pressed" from="back_button" to="." method="_on_back_button_pressed"]
