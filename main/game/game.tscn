[gd_scene load_steps=8 format=3 uid="uid://tqpt66wvsbue"]

[ext_resource type="Script" path="res://main/board/game.gd" id="1_5it5f"]
[ext_resource type="Script" path="res://main/board/board.gd" id="2_jvigl"]
[ext_resource type="Script" path="res://addons/godot_state_charts/state_chart.gd" id="3_l05u7"]
[ext_resource type="Script" path="res://addons/godot_state_charts/compound_state.gd" id="4_i0bq6"]
[ext_resource type="Script" path="res://addons/godot_state_charts/atomic_state.gd" id="5_88l8l"]
[ext_resource type="Script" path="res://addons/godot_state_charts/transition.gd" id="6_6kdgt"]
[ext_resource type="PackedScene" uid="uid://bcwkugn6v3oy7" path="res://addons/godot_state_charts/utilities/state_chart_debugger.tscn" id="7_7753s"]

[node name="game" type="Node2D"]
script = ExtResource("1_5it5f")

[node name="board" type="ColorRect" parent="."]
offset_left = 45.0
offset_top = 73.0
offset_right = 613.0
offset_bottom = 641.0
color = Color(0.52549, 1, 1, 1)
script = ExtResource("2_jvigl")
metadata/_edit_use_anchors_ = true

[node name="editor_button" type="Button" parent="."]
offset_left = 512.0
offset_top = 16.0
offset_right = 605.0
offset_bottom = 47.0
text = "Editor"

[node name="restart_button" type="Button" parent="."]
offset_left = 372.0
offset_top = 21.0
offset_right = 465.0
offset_bottom = 52.0
focus_mode = 0
text = "Restart"

[node name="GameState" type="Node" parent="."]
script = ExtResource("3_l05u7")

[node name="CompoundState" type="Node" parent="GameState"]
script = ExtResource("4_i0bq6")
initial_state = NodePath("Playing")

[node name="NotStarted" type="Node" parent="GameState/CompoundState"]
script = ExtResource("5_88l8l")

[node name="StartGane" type="Node" parent="GameState/CompoundState/NotStarted"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Playing/Ready")
event = &"StartGame"

[node name="Playing" type="Node" parent="GameState/CompoundState"]
script = ExtResource("4_i0bq6")
initial_state = NodePath("Ready")

[node name="Ready" type="Node" parent="GameState/CompoundState/Playing"]
script = ExtResource("5_88l8l")

[node name="StartMoving" type="Node" parent="GameState/CompoundState/Playing/Ready"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Moving")
event = &"StartMoving"

[node name="Moving" type="Node" parent="GameState/CompoundState/Playing"]
script = ExtResource("5_88l8l")

[node name="StopMoving" type="Node" parent="GameState/CompoundState/Playing/Moving"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Ready")
event = &"StopMoving"

[node name="EndGame" type="Node" parent="GameState/CompoundState/Playing"]
script = ExtResource("6_6kdgt")
to = NodePath("../../GameOver")
event = &"EndGame"

[node name="GameOver" type="Node" parent="GameState/CompoundState"]
script = ExtResource("5_88l8l")

[node name="StartGame" type="Node" parent="GameState/CompoundState/GameOver"]
script = ExtResource("6_6kdgt")
to = NodePath("../../Playing/Ready")
event = &"StartGame"

[node name="StartGame" type="Node" parent="GameState/CompoundState"]
script = ExtResource("6_6kdgt")
to = NodePath("../Playing/Ready")
event = &"StartGame"

[node name="back_button" type="Button" parent="."]
offset_left = 56.0
offset_top = 673.0
offset_right = 120.0
offset_bottom = 681.0
text = "Back"
metadata/_edit_use_anchors_ = true

[node name="next_level_button" type="Button" parent="."]
offset_left = 523.0
offset_top = 678.0
offset_right = 613.0
offset_bottom = 709.0
text = "Next Level"
metadata/_edit_use_anchors_ = true

[node name="StateChartDebugger" parent="." instance=ExtResource("7_7753s")]
offset_left = 55.0
offset_top = 771.0
offset_right = 740.0
offset_bottom = 1073.0
enabled = false
initial_node_to_watch = NodePath("../GameState")

[connection signal="gui_input" from="board/Square" to="board/Square" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18421" to="board/@ColorRect@18421" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18422" to="board/@ColorRect@18422" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18423" to="board/@ColorRect@18423" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18424" to="board/@ColorRect@18424" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18425" to="board/@ColorRect@18425" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18426" to="board/@ColorRect@18426" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18427" to="board/@ColorRect@18427" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18428" to="board/@ColorRect@18428" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18429" to="board/@ColorRect@18429" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18430" to="board/@ColorRect@18430" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18431" to="board/@ColorRect@18431" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18432" to="board/@ColorRect@18432" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18433" to="board/@ColorRect@18433" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18434" to="board/@ColorRect@18434" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18435" to="board/@ColorRect@18435" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18436" to="board/@ColorRect@18436" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18437" to="board/@ColorRect@18437" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18438" to="board/@ColorRect@18438" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18439" to="board/@ColorRect@18439" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18440" to="board/@ColorRect@18440" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18441" to="board/@ColorRect@18441" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18442" to="board/@ColorRect@18442" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18443" to="board/@ColorRect@18443" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18444" to="board/@ColorRect@18444" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18445" to="board/@ColorRect@18445" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18446" to="board/@ColorRect@18446" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18447" to="board/@ColorRect@18447" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18448" to="board/@ColorRect@18448" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18449" to="board/@ColorRect@18449" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18450" to="board/@ColorRect@18450" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18451" to="board/@ColorRect@18451" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18452" to="board/@ColorRect@18452" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18453" to="board/@ColorRect@18453" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18454" to="board/@ColorRect@18454" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18455" to="board/@ColorRect@18455" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18456" to="board/@ColorRect@18456" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18457" to="board/@ColorRect@18457" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18458" to="board/@ColorRect@18458" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18459" to="board/@ColorRect@18459" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18460" to="board/@ColorRect@18460" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18461" to="board/@ColorRect@18461" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18462" to="board/@ColorRect@18462" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18463" to="board/@ColorRect@18463" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18464" to="board/@ColorRect@18464" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18465" to="board/@ColorRect@18465" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18466" to="board/@ColorRect@18466" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18467" to="board/@ColorRect@18467" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18468" to="board/@ColorRect@18468" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18469" to="board/@ColorRect@18469" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18470" to="board/@ColorRect@18470" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18471" to="board/@ColorRect@18471" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18472" to="board/@ColorRect@18472" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18473" to="board/@ColorRect@18473" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18474" to="board/@ColorRect@18474" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18475" to="board/@ColorRect@18475" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18476" to="board/@ColorRect@18476" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18477" to="board/@ColorRect@18477" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18478" to="board/@ColorRect@18478" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18479" to="board/@ColorRect@18479" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18480" to="board/@ColorRect@18480" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18481" to="board/@ColorRect@18481" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18482" to="board/@ColorRect@18482" method="_on_gui_input"]
[connection signal="gui_input" from="board/@ColorRect@18483" to="board/@ColorRect@18483" method="_on_gui_input"]
[connection signal="pressed" from="editor_button" to="." method="_on_editor_button_pressed"]
[connection signal="pressed" from="restart_button" to="." method="_on_restart_button_pressed"]
[connection signal="state_entered" from="GameState/CompoundState/Playing" to="." method="_on_playing_state_entered"]
[connection signal="state_processing" from="GameState/CompoundState/Playing/Ready" to="." method="_on_ready_state_processing"]
[connection signal="state_unhandled_input" from="GameState/CompoundState/Playing/Ready" to="." method="_on_ready_state_unhandled_input"]
[connection signal="state_entered" from="GameState/CompoundState/GameOver" to="." method="_on_game_over_state_entered"]
[connection signal="state_processing" from="GameState/CompoundState/GameOver" to="." method="_on_game_over_state_processing"]
[connection signal="pressed" from="back_button" to="." method="_on_back_button_pressed"]
[connection signal="pressed" from="next_level_button" to="." method="_on_next_level_button_pressed"]
